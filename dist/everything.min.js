var gameLogic;!function(a){function b(){return[["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""]]}function c(){return[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]]}function d(){return[!0,!0,!0,!0]}function e(a,b){var c=h(a,b,5);return c.length>0?c:(c=h(a,b,4),c.length>0?c:h(a,b,3))}function f(){for(var a,b,c=[],d=1,e=9;e>=0;e--){for(a=e,b=e;e+d>b;b++)c.push([a,b]);for(;e+d>a;a++)c.push([a,b]);for(;b>e;b--)c.push([a,b]);for(;a>e;a--)c.push([a,b]);d+=2}return c}function g(a){for(var b=a.length,c=0;b>c;c++){var d=c+Math.floor(Math.random()*(b-c)),e=a[d];a[d]=a[c],a[c]=e}return a}function h(a,b,c){var d=[],e=[],h=a.freeShapes,i=a.board,l=0;d=g(5===c?[4,9,10,11,12,13,15,16,17,18,19,20]:4===c?[3,6,7,8,14]:[0,1,2,5]);for(var m=f(),n=0;n<m.length&&1>l;n++){var o=m[n][0],p=m[n][1];if(""===i[o][p]&&!w(i,o,p,b))for(var q=0;q<d.length&&1>l;q++){var r=d[q];if(h[b][r])for(var s=g(j(r)),t=0;t<s.length&&1>l;t++){var u=C(o,p,r,t);B(i,u,b)&&1>l&&(e.push(k(a,u,r,b)),l++)}}}return e}function i(a,b){return 0===a||8===a||19===a?0===b:1===a||2===a||3===a||4===a?0===b||1===b:5===a||10===a||11===a||14===a||16===a||17===a?0===b||1===b||2===b||3===b:7===a||13===a?0===b||1===b||4===b||5===b:6===a||9===a||12===a||15===a||18===a||20===a?!0:!1}function j(a){var b=[];return(0===a||8===a||19===a)&&b.push(0),(1===a||2===a||3===a||4===a)&&b.push(0,1),(5===a||10===a||11===a||14===a||16===a||17===a)&&b.push(0,1,2,3),(7===a||13===a)&&b.push(0,1,4,5),(6===a||9===a||12===a||15===a||18===a||20===a)&&b.push(0,1,2,3,4,5,6,7),b}function k(a,e,f,g){var h=g;(void 0===a||void 0===a.board)&&(a={board:b(),playerStatus:d(),freeShapes:c(),delta:{}});var i=a.board,j=a.playerStatus,k=a.freeShapes;if(!B(i,e,g))throw new Error("illegal placement of a shape!");if(r(j))throw new Error("Can only make a move if the game is not over!");for(var l=angular.copy(i),n=g.toString(),p=0;p<e.length;p++){var s=e[p][0],t=e[p][1];l[s][t]=n}var u=m(g,k,f),v=o(l,u,j),w=q(g,v,u);return[w,{set:{key:"board",value:l}},{set:{key:"playerStatus",value:v}},{set:{key:"freeShapes",value:u}},{set:{key:"delta",value:{shape:f,placement:e}}},{set:{key:"internalTurnIndex",value:D()}},{set:{key:"lastIndex",value:h}}]}function l(a){var b=a.move;console.log(a);var c=a.stateBeforeMove,d=b[6].set.value;try{var e=b[4].set.value.shape,f=b[4].set.value.placement,g=k(c,f,e,d);if(g[6].set.value=d,console.log("expected move: "),console.log(g),!angular.equals(b,g))return!1}catch(h){return!1}return!0}function m(a,b,c){var d=angular.copy(b);if(0==d[a][c])throw new Error("the shape is already used by the player!");return d[a][c]=!1,d}function n(a,b,c){if(A(a,c))return!0;for(var d=0;20>d;d++)for(var e=0;20>e;e++)if(""===a[d][e]&&!w(a,d,e,c))for(var f=0;21>f;f++)if(b[c][f])for(var g=0;8>g;g++)if(i(f,g)){var h=C(d,e,f,g);if(z(a,h)&&!y(a,h)&&!x(a,h,c)&&v(a,h,c))return!0}return!1}function o(a,b,c){for(var d=angular.copy(c),e=0;4>e;e++)p(e,b)&&(d[e]=!1);for(var e=0;4>e;e++)d[e]&&(d[e]=n(a,b,e));return d}function p(a,b){for(var c=0;21>c;c++)if(b[a][c])return!1;return!0}function q(a,b,c){var d={};if(r(b))d={endMatch:{endMatchScores:s(c)}};else{for(E=(a+1)%4;b[E]===!1;)E=(E+1)%4;d={setTurn:{turnIndex:Math.floor(E/2)}}}return d}function r(a){for(var b=0;b<a.length;b++)if(a[b])return!1;return!0}function s(a){for(var b=[0,0,0,0],c=0;4>c;c++){for(var d=0;21>d;d++)a[c][d]||(0===d&&(b[c]+=1),1===d&&(b[c]+=2),(2===d||5===d)&&(b[c]+=3),(3===d||6===d||7===d||8===d||14===d)&&(b[c]+=4),(4===d||9===d||10===d||11===d||12===d||13===d||15===d||16===d||18===d||19===d||20===d)&&(b[c]+=5));p(c,a)&&(b[c]+=20),console.log(b)}return[b[0]+b[1],b[2]+b[3]]}function t(a,b,c){return b>=0&&b<a.length&&c>=0&&c<a[0].length}function u(a,b,c,d){var e=d.toString();return t(a,b+1,c+1)&&a[b+1][c+1]===e||t(a,b+1,c-1)&&a[b+1][c-1]===e||t(a,b-1,c+1)&&a[b-1][c+1]===e||t(a,b-1,c-1)&&a[b-1][c-1]===e?!0:!1}function v(a,b,c){for(var d=0;d<b.length;d++){var e=(c.toString(),b[d][0]),f=b[d][1];if(u(a,e,f,c))return!0}return!1}function w(a,b,c,d){var e=d.toString();return t(a,b+1,c)&&a[b+1][c]===e||t(a,b-1,c)&&a[b-1][c]===e||t(a,b,c+1)&&a[b][c+1]===e||t(a,b,c-1)&&a[b][c-1]===e?!0:!1}function x(a,b,c){for(var d=0;d<b.length;d++){var e=(c.toString(),b[d][0]),f=b[d][1];if(w(a,e,f,c))return!0}return!1}function y(a,b){var c;for(c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if(""!==a[d][e])return!0}return!1}function z(a,b){for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if(!t(a,d,e))return!1}return!0}function A(a,b){var c=b.toString();return a[0][0]===c||a[0][19]===c||a[19][0]===c||a[19][19]===c?!1:!0}function B(a,b,c){if(A(a,c)){for(var d=0;d<b.length;d++)if(angular.equals(b[d],[0,0])||angular.equals(b[d],[0,19])||angular.equals(b[d],[19,0])||angular.equals(b[d],[19,19]))return z(a,b)&&!y(a,b);return!1}return z(a,b)&&!y(a,b)&&!x(a,b,c)&&v(a,b,c)}function C(a,b,c,d){var e=[];switch(c){case 0:e.push([a,b]);break;case 1:0===d&&e.push([a,b],[a-1,b]),1===d&&e.push([a,b-1],[a,b]);break;case 2:0===d&&e.push([a,b],[a-1,b],[a-2,b]),1===d&&e.push([a,b-2],[a,b-1],[a,b]);break;case 3:0===d&&e.push([a,b],[a-1,b],[a-2,b],[a-3,b]),1===d&&e.push([a,b-3],[a,b-2],[a,b-1],[a,b]);break;case 4:0===d&&e.push([a,b],[a-1,b],[a-2,b],[a-3,b],[a-4,b]),1===d&&e.push([a,b-4],[a,b-3],[a,b-2],[a,b-1],[a,b]);break;case 5:0===d&&e.push([a,b],[a,b-1],[a-1,b-1]),1===d&&e.push([a,b],[a,b-1],[a+1,b-1]),2===d&&e.push([a,b],[a-1,b],[a-1,b-1]),3===d&&e.push([a,b],[a-1,b],[a,b-1]);break;case 6:0===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a-2,b-1]),1===d&&e.push([a,b],[a,b-1],[a,b-2],[a+1,b-2]),2===d&&e.push([a,b],[a-1,b],[a-2,b],[a-2,b-1]),3===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b]),4===d&&e.push([a,b],[a-1,b],[a-2,b],[a,b-1]),5===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b-2]),6===d&&e.push([a,b],[a,b-1],[a+1,b-1],[a+2,b-1]),7===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a-1,b-2]);break;case 7:0===d&&e.push([a,b],[a,b-1],[a+1,b-1],[a+1,b-2]),1===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a-2,b-1]),4===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a-1,b-2]),5===d&&e.push([a,b],[a-1,b],[a,b-1],[a+1,b-1]);break;case 8:0===d&&e.push([a,b],[a-1,b],[a,b-1],[a-1,b-1]);break;case 9:0===d&&e.push([a,b],[a,b-1],[a,b-2],[a,b-3],[a-1,b-3]),1===d&&e.push([a,b],[a,b-1],[a+1,b-1],[a+2,b-1],[a+3,b-1]),2===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a-1,b-2],[a-1,b-3]),3===d&&e.push([a,b],[a,b-1],[a-1,b],[a-2,b],[a-3,b]),4===d&&e.push([a,b],[a-1,b],[a,b-1],[a,b-2],[a,b-3]),5===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a-2,b-1],[a-3,b-1]),6===d&&e.push([a,b],[a,b-1],[a,b-2],[a,b-3],[a+1,b-3]),7===d&&e.push([a,b],[a-1,b],[a-2,b],[a-3,b],[a-3,b-1]);break;case 10:0===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b-1],[a-2,b-1]),1===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b-2],[a+1,b-2]),2===d&&e.push([a,b],[a-1,b],[a-2,b],[a-2,b-1],[a-2,b+1]),3===d&&e.push([a,b],[a-1,b],[a-2,b],[a-1,b-1],[a-1,b-2]);break;case 11:0===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b-2],[a-2,b-2]),1===d&&e.push([a,b],[a,b-1],[a,b-2],[a+1,b-2],[a+2,b-2]),2===d&&e.push([a,b],[a-1,b],[a-2,b],[a-2,b-1],[a-2,b-2]),3===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b],[a-2,b]);break;case 12:0===d&&e.push([a,b],[a,b-1],[a,b-2],[a+1,b-2],[a+1,b-3]),1===d&&e.push([a,b],[a-1,b],[a-2,b],[a-2,b-1],[a-3,b-1]),2===d&&e.push([a,b],[a,b-1],[a+1,b-1],[a+1,b-2],[a+1,b-3]),3===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a-2,b-1],[a-3,b-1]),4===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a-1,b-2],[a-1,b-3]),5===d&&e.push([a,b],[a-1,b],[a-2,b],[a,b-1],[a+1,b-1]),6===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b-2],[a-1,b-3]),7===d&&e.push([a,b],[a-1,b],[a,b-1],[a+1,b-1],[a+2,b-1]);break;case 13:0===d&&e.push([a,b],[a-1,b],[a,b-1],[a,b-2],[a+1,b-2]),1===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a-2,b-1],[a-2,b-2]),4===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a-1,b-2],[a-2,b-2]),5===d&&e.push([a,b],[a,b-1],[a+1,b-1],[a+2,b-1],[a+2,b-2]);break;case 14:0===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b-1]),1===d&&e.push([a,b],[a+1,b-1],[a,b-1],[a-1,b-1]),2===d&&e.push([a,b],[a,b-1],[a,b-2],[a+1,b-1]),3===d&&e.push([a,b],[a-1,b],[a-2,b],[a-1,b-1]);break;case 15:0===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a,b-1],[a+1,b-1]),1===d&&e.push([a,b],[a-1,b],[a,b-1],[a-1,b-1],[a-1,b-2]),2===d&&e.push([a,b],[a,b-1],[a-1,b],[a-1,b-1],[a-2,b]),3===d&&e.push([a,b],[a-1,b-1],[a,b-1],[a-1,b-2],[a,b-2]),4===d&&e.push([a,b],[a-1,b],[a-2,b],[a-1,b-1],[a-2,b-1]),5===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a,b-1],[a,b-2]),6===d&&e.push([a,b],[a-1,b],[a,b-1],[a-1,b-1],[a-2,b-1]),7===d&&e.push([a,b],[a,b-1],[a,b-2],[a+1,b-1],[a+1,b-2]);break;case 16:0===d&&e.push([a,b],[a,b-1],[a+1,b-1],[a+1,b-2],[a+2,b-2]),1===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a-2,b-1],[a-2,b-2]),2===d&&e.push([a,b],[a-1,b],[a,b-1],[a+1,b-1],[a+1,b-2]),3===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a-1,b-2],[a-2,b-2]);break;case 17:0===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a-2,b-1],[a-2,b]),1===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a-1,b-2],[a,b-2]),2===d&&e.push([a,b],[a,b-1],[a-1,b],[a-2,b],[a-2,b-1]),3===d&&e.push([a,b],[a-1,b],[a,b-1],[a,b-2],[a-1,b-2]);break;case 18:0===d&&e.push([a,b],[a,b-1],[a+1,b-1],[a+2,b-1],[a+1,b-2]),1===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a-1,b-2],[a-2,b-1]),2===d&&e.push([a,b],[a-1,b-1],[a,b-1],[a+1,b-1],[a+1,b-2]),3===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b-2],[a+1,b-1]),4===d&&e.push([a,b],[a-1,b-1],[a,b-1],[a+1,b-1],[a-1,b-2]),5===d&&e.push([a,b],[a-1,b],[a,b-1],[a,b-2],[a+1,b-1]),6===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a-2,b-1],[a-1,b-2]),7===d&&e.push([a,b],[a-1,b-1],[a,b-1],[a,b-2],[a+1,b-2]);break;case 19:0===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b-1],[a+1,b-1]);break;case 20:0===d&&e.push([a,b],[a,b-1],[a,b-2],[a,b-3],[a-1,b-2]),1===d&&e.push([a,b],[a-1,b-1],[a,b-1],[a+1,b-1],[a+2,b-1]),2===d&&e.push([a,b],[a,b-1],[a,b-2],[a,b-3],[a+1,b-1]),3===d&&e.push([a,b],[a-1,b],[a-2,b],[a-3,b],[a-1,b-1]),4===d&&e.push([a,b],[a,b-1],[a,b-2],[a,b-3],[a-1,b-1]),5===d&&e.push([a,b],[a+1,b-1],[a,b-1],[a-1,b-1],[a-2,b-1]),6===d&&e.push([a,b],[a,b-1],[a,b-2],[a,b-3],[a+1,b-2]),7===d&&e.push([a,b],[a-1,b],[a-2,b],[a-3,b],[a-2,b-1])}return e}function D(){return E}a.getInitialBoard=b,a.getInitialFreeShapes=c,a.getInitialPlayerStatus=d,a.getPossibleMoves=e,a.traverseBoard=f,a.shuffle=g,a.getPossibleMovesWithSqaureN=h,a.isValidRotation=i,a.getPossibleRotations=j,a.createMove=k,a.isMoveOk=l,a.updateFreeShapes=m,a.canMove=n,a.updatePlayerStatus=o,a.shapeUsedUp=p;var E=0;a.updateTurnIndex=q,a.endOfMatch=r,a.getScore=s,a.inBounds=t,a.squareCornerConnected=u,a.cornerConnected=v,a.squareEdgeConnected=w,a.edgeConnected=x,a.isOccupied=y,a.placementInBound=z,a.isFirstMove=A,a.legalPlacement=B,a.getPlacement=C,a.getInternalTurnIndex=D}(gameLogic||(gameLogic={}));var Game;!function(a){function b(){console.log("Translation of 'RULES_OF_BLOKUS' is "+translate("RULES_OF_BLOKUS")),resizeGameAreaService.setWidthToHeight(.6),gameService.setGame({minNumberOfPlayers:2,maxNumberOfPlayers:2,isMoveOk:gameLogic.isMoveOk,updateUI:o}),document.addEventListener("animationend",c,!1),document.addEventListener("webkitAnimationEnd",c,!1),document.addEventListener("oanimationend",c,!1),dragAndDropService.addDragListener("gameArea",j),r=document.getElementById("gameArea")}function c(){$rootScope.$apply(function(){log.info("Animation ended"),y=!0,z&&p()})}function d(a,b,c){document.getElementById("e2e_test_board_div_"+a+"x"+b).style.background=c}function e(a,b){return"0"===s.board[a][b]?"#33CCFF":"1"===s.board[a][b]?"#FF9900":"2"===s.board[a][b]?"#FF3399":"3"===s.board[a][b]?"#99FF33":"#F0F0F0"}function f(){var a=["#33CCFF","#FF9900","#FF3399","#99FF33"];return a[w]}function g(a){for(var b=0;b<a.length;b++){var c=a[b][0],e=a[b][1];d(c,e,f())}}function h(a){if("board"===a)for(var b=0;b<q.length;b++){var c=q[b][0],f=q[b][1];d(c,f,e(c,f))}var g=document.getElementById(a+"DraggingLines");g.style.display="none"}function i(a){var b=document.getElementById(a+"Area");return{width:b.clientWidth,height:b.clientHeight}}function j(a,b,c){var d=document.getElementById("gameArea"),e=document.getElementById("boardArea"),f=document.getElementById("shapeArea"),j=document.getElementById("rotateArea");if(!gameLogic.endOfMatch(s.playerStatus)&&v){var l,o,p=b-d.offsetLeft-e.offsetLeft,r=b-d.offsetLeft-f.offsetLeft,u=b-d.offsetLeft-j.offsetLeft,w=c-d.offsetTop-e.offsetTop,y=c-d.offsetTop-f.offsetTop,z=c-d.offsetTop-j.offsetTop,A="",B=i("board"),C=i("shape"),D=i("rotate");if(p>0&&p<B.width&&w>0&&w<B.height?(l=p,o=w,A="board"):t>=0&&-1===x&&u>0&&u<D.width&&z>0&&z<D.height?(l=u,o=z,A="rotate",h("board")):(-1===t&&-1===x||t>=0&&x>=0)&&r<C.width&&y>0&&y<C.height&&(l=r,o=y,A="shape",h("rotate")),""===A)return h("board"),h("shape"),void h("rotate");var E=k(A),F=i(A),G=Math.floor(E.colsNum*l/F.width),H=Math.floor(E.rowsNum*o/F.height);if("board"===A){if(-1===t)return;if(-1===x)return;var I=gameLogic.getPlacement(H,G,t,x);if(!gameLogic.placementInBound(s.board,I)||gameLogic.isOccupied(s.board,I))return void h("board");angular.equals(q,I)||(h("board"),g(I),q=I)}var J=document.getElementById(A+"DraggingLines"),K=document.getElementById(A+"HorizontalDraggingLine"),L=document.getElementById(A+"VerticalDraggingLine");J.style.display="inline";var M=m(H,G,A);L.setAttribute("x1",M.x.toString()),L.setAttribute("x2",M.x.toString()),K.setAttribute("y1",M.y.toString()),K.setAttribute("y2",M.y.toString()),("touchend"===a||"touchcancel"===a||"touchleave"===a||"mouseup"===a)&&(n(H,G,A),h(A))}}function k(a){return"board"===a?{rowsNum:20,colsNum:20}:"shape"===a?{rowsNum:12,colsNum:20}:"rotate"===a?{rowsNum:12,colsNum:20}:void 0}function l(a){var b=i(a),c=k(a);return{width:b.width/c.colsNum,height:b.height/c.rowsNum}}function m(a,b,c){var d=l(c);return{x:b*d.width+d.width/2,y:a*d.height+d.height/2}}function n(b,c,d){$rootScope.$apply(function(){"board"===d&&a.boardAreaCellClicked(b,c),"shape"===d&&a.shapeAreaCellClicked(b,c),"rotate"===d&&a.rotateAreaCellClicked(b,c)})}function o(a){s=a.stateAfterMove,t=-1,x=-1,q=[],void 0===s.board&&(s.board=gameLogic.getInitialBoard(),s.freeShapes=gameLogic.getInitialFreeShapes(),s.playerStatus=gameLogic.getInitialPlayerStatus()),v=a.turnIndexAfterMove>=0&&a.yourPlayerIndex===a.turnIndexAfterMove,u=a.turnIndexAfterMove,w=gameLogic.getInternalTurnIndex(),v&&""===a.playersInfo[a.yourPlayerIndex].playerId&&(v=!1,$timeout(p,500)),console.log("turnIndex: "+u),console.log("internalTurnIndex"+w),console.log(s.playerStatus)}function p(){var a=gameLogic.getPossibleMoves(s,w);gameService.makeMove(a[Math.floor(Math.random()*a.length)])}var q,r,s=null,t=-1,u=0,v=!0,w=0,x=-1,y=!0,z=!0;a.init=b,a.setBoardAreaSquareStyle=function(a,b){var c=e(a,b);return{background:c}},a.newlyPlaced=function(a,b){if(void 0===s.delta)return!1;for(var c=s.delta.placement,d=0;d<c.length;d++)if(c[d][0]===a&&c[d][1]===b)return!0;return!1};a.getRotate=function(a,b){var c=-1;return 0===t&&1===a&&1===b&&(c=0),1===t&&((0===a&&1===b||1===a&&1===b)&&(c=0),(1===a&&5===b||1===a&&6===b)&&(c=1)),2===t&&(a>=0&&2>=a&&1===b&&(c=0),b>=5&&7>=b&&1===a&&(c=1)),3===t&&(a>=0&&3>=a&&1===b&&(c=0),b>=5&&8>=b&&2===a&&(c=1)),4===t&&(a>=0&&4>=a&&1===b&&(c=0),b>=5&&9>=b&&2===a&&(c=1)),5===t&&((1===a&&1===b||2===a&&1===b||2===a&&2===b)&&(c=0),(1===a&&6===b||1===a&&7===b||2===a&&6===b)&&(c=1),(1===a&&11===b||1===a&&12===b||2===a&&12===b)&&(c=2),(2===a&&17===b||2===a&&18===b||1===a&&18===b)&&(c=3)),6===t&&((a>=0&&2>=a&&1===b||2===a&&2===b)&&(c=0),(b>=6&&8>=b&&1===a||2===a&&6===b)&&(c=1),(a>=0&&2>=a&&12===b||0===a&&11===b)&&(c=2),(b>=16&&18>=b&&2===a||1===a&&18===b)&&(c=3),(a>=4&&6>=a&&2===b||6===a&&1===b)&&(c=4),(b>=6&&8>=b&&6===a||5===a&&6===b)&&(c=5),(a>=4&&6>=a&&11===b||4===a&&12===b)&&(c=6),(b>=16&&18>=b&&5===a||6===a&&18===b)&&(c=7)),7===t&&((1===a&&2===b||1===a&&3===b||2===a&&1===b||2===a&&2===b)&&(c=0),(0===a&&6===b||1===a&&6===b||1===a&&7===b||2===a&&7===b)&&(c=1),(1===a&&11===b||1===a&&12===b||2===a&&12===b||2===a&&13===b)&&(c=4),(1===a&&17===b||2===a&&17===b||0===a&&18===b||1===a&&18===b)&&(c=5)),8===t&&(0===a&&1===b||0===a&&2===b||1===a&&1===b||1===a&&2===b)&&(c=0),9===t&&((b>=0&&3>=b&&3===a||2===a&&0===b)&&(c=0),(a>=0&&3>=a&&6===b||0===a&&7===b)&&(c=1),(b>=10&&13>=b&&2===a||3===a&&13===b)&&(c=2),(a>=0&&3>=a&&17===b||3===a&&16===b)&&(c=3),(b>=0&&3>=b&&8===a||7===a&&3===b)&&(c=4),(a>=5&&8>=a&&6===b||8===a&&7===b)&&(c=5),(b>=10&&13>=b&&7===a||8===a&&10===b)&&(c=6),(a>=5&&8>=a&&17===b||5===a&&16===b)&&(c=7)),10===t&&((2===a&&1===b||2===a&&2===b||2===a&&3===b||0===a&&2===b||1===a&&2===b)&&(c=0),(0===a&&6===b||1===a&&6===b||2===a&&6===b||1===a&&7===b||1===a&&8===b)&&(c=1),(0===a&&11===b||0===a&&12===b||0===a&&13===b||1===a&&12===b||2===a&&12===b)&&(c=2),(1===a&&16===b||1===a&&17===b||1===a&&18===b||0===a&&18===b||2===a&&18===b)&&(c=3)),11===t&&((0===a&&1===b||1===a&&1===b||2===a&&1===b||2===a&&2===b||2===a&&3===b)&&(c=0),(0===a&&6===b||0===a&&7===b||0===a&&8===b||1===a&&6===b||2===a&&6===b)&&(c=1),(0===a&&11===b||0===a&&12===b||0===a&&13===b||1===a&&13===b||2===a&&13===b)&&(c=2),(2===a&&16===b||2===a&&17===b||2===a&&18===b||0===a&&18===b||1===a&&18===b)&&(c=3)),12===t&&((2===a&&b>=0&&1>=b||1===a&&b>=1&&3>=b)&&(c=0),(a>=0&&1>=a&&6===b||a>=1&&3>=a&&7===b)&&(c=1),(2===a&&b>=11&&13>=b||1===a&&b>=13&&14>=b)&&(c=2),(a>=0&&2>=a&&17===b||a>=2&&3>=a&&18===b)&&(c=3),(6===a&&b>=0&&2>=b||7===a&&b>=2&&3>=b)&&(c=4),(a>=7&&8>=a&&6===b||a>=5&&7>=a&&7===b)&&(c=5),(6===a&&b>=11&&12>=b||7===a&&b>=12&&14>=b)&&(c=6),(a>=6&&8>=a&&17===b||a>=5&&6>=a&&18===b)&&(c=7)),13===t&&((1===a&&b>=1&&3>=b||0===a&&3===b||2===a&&1===b)&&(c=0),(a>=0&&2>=a&&7===b||0===a&&6===b||2===a&&8===b)&&(c=1),(1===a&&b>=11&&13>=b||0===a&&11===b||2===a&&13===b)&&(c=4),(a>=0&&2>=a&&17===b||2===a&&16===b||0===a&&18===b)&&(c=5)),14===t&&((1===a&&b>=0&&2>=b||0===a&&1===b)&&(c=0),(a>=0&&2>=a&&6===b||1===a&&7===b)&&(c=1),(0===a&&b>=11&&13>=b||1===a&&12===b)&&(c=2),(a>=0&&2>=a&&18===b||1===a&&17===b)&&(c=3)),15===t&&((a>=0&&1>=a&&b>=1&&2>=b||2===a&&1===b)&&(c=0),(a>=1&&2>=a&&b>=7&&8>=b||1===a&&6===b)&&(c=1),(a>=1&&2>=a&&b>=12&&13>=b||0===a&&13===b)&&(c=2),(a>=1&&2>=a&&b>=17&&18>=b||2===a&&19===b)&&(c=3),(a>=4&&5>=a&&b>=1&&2>=b||6===a&&2===b)&&(c=4),(a>=5&&6>=a&&b>=7&&8>=b||6===a&&6===b)&&(c=5),(a>=5&&6>=a&&b>=12&&13>=b||4===a&&12===b)&&(c=6),(a>=5&&6>=a&&b>=17&&18>=b||5===a&&19===b)&&(c=7)),16===t&&((0===a&&2===b||0===a&&3===b||1===a&&1===b||1===a&&2===b||2===a&&1===b)&&(c=0),(0===a&&6===b||0===a&&7===b||1===a&&7===b||1===a&&8===b||2===a&&8===b)&&(c=1),(2===a&&12===b||2===a&&13===b||1===a&&13===b||1===a&&14===b||0===a&&14===b)&&(c=2),(0===a&&17==b||1===a&&17===b||1===a&&18==b||2===a&&18===b||2===a&&19===b)&&(c=3)),17===t&&((a>=0&&2>=a&&1===b||0===a&&2===b||2===a&&2===b)&&(c=0),(1===a&&b>=6&&8>=b||2===a&&6===b||2===a&&8===b)&&(c=1),(a>=0&&2>=a&&13===b||0===a&&12===b||2===a&&12===b)&&(c=2),(2===a&&b>=17&&19>=b||1===a&&17===b||1===a&&19===b)&&(c=3)),18===t&&((a>=0&&2>=a&&2===b||1===a&&1===b||0===a&&3===b)&&(c=0),(1===a&&b>=6&&8>=b||0===a&&7===b||2===a&&8===b)&&(c=1),(a>=0&&2>=a&&13===b||2===a&&12===b||1===a&&14===b)&&(c=2),(1===a&&b>=17&&19>=b||0===a&&17===b||2===a&&18===b)&&(c=3),(a>=4&&6>=a&&2===b||4===a&&1===b||5===a&&3===b)&&(c=4),(5===a&&b>=6&&8>=b||6===a&&7===b||4===a&&8===b)&&(c=5),(a>=4&&6>=a&&13===b||5===a&&12===b||6===a&&14===b)&&(c=6),(5===a&&b>=17&&19>=b||6===a&&17==b||4===a&&18===b)&&(c=7)),19===t&&(0===a&&2===b||1===a&&2===b||2===a&&2===b||1===a&&1===b||1===a&&3===b)&&(c=0),20===t&&((2===a&&b>=0&&3>=b||1===a&&1===b)&&(c=0),(a>=0&&3>=a&&6===b||1===a&&7===b)&&(c=1),(1===a&&b>=11&&14>=b||2===a&&13===b)&&(c=2),(a>=0&&3>=a&&18===b||2===a&&17===b)&&(c=3),(7===a&&b>=0&&3>=b||6===a&&2===b)&&(c=4),(a>=5&&8>=a&&6===b||7===a&&7===b)&&(c=5),(6===a&&b>=11&&14>=b||7===a&&12===b)&&(c=6),(a>=5&&8>=a&&18===b||6===a&&17===b)&&(c=7)),c},a.rotateAreaCellClicked=function(b,c){var d=a.getRotate(b,c);d>=0&&(d=d)},a.boardAreaCellClicked=function(a,b){if(console.log(["Clicked on cell:",a,b]),"?throwException"===window.location.search)throw new Error("Throwing the error because URL has '?throwException'");if(v&&-1!==t&&-1!==x)try{var c=gameLogic.getPlacement(a,b,t,x),d=gameLogic.createMove(s,c,t,w);v=!1,gameService.makeMove(d),t=-1,x=-1}catch(e){return void console.log(["This is an illegal move:",a,b])}},a.shapeAreaCellClicked=function(b,c){var d=a.getShape(b,c);s.freeShapes[w][d]&&(console.log(["Clicked on shape:",d]),t=d,x=-1)},a.getShapeCellColorStyle=function(b,c){var d=a.getShape(b,c);if(d>=0&&void 0!=s.freeShapes[w]&&s.freeShapes[w][d]){var e=f();return{border:"1pt solid white",background:e}}return{background:"#F0F0F0"}},a.getShape=function(a,b){return 0===a&&4===b?0:0!==b||3!==a&&4!==a?2!==b||2!==a&&3!==a&&4!==a?7!==b||1!==a&&2!==a&&3!==a&&4!==a?9===b&&a>=0&&4>=a?4:3===a&&11===b||4===a&&11===b||4===a&&12===b?5:0===a&&b>=0&&2>=b||1===a&&0===b?6:1===a&&(11===b||12===b)||0===a&&(12===b||13===b)?7:0===a&&(15===b||16===b)||1===a&&(15===b||16===b)?8:0===a&&18===b||19===b&&a>=0&&3>=a?9:7===a&&(0===b||1===b)||2===b&&a>=6&&8>=a?10:0===b&&(9===a||10===a||11===a)||11===a&&(1===b||2===b)?11:10===a&&(16===b||17===b)||11===a&&(17===b||18===b||19===b)?12:9===a&&12===b||10===a&&(10===b||11===b||12===b)||11===a&&10===b?13:3===a&&5===b||4===b&&a>=2&&4>=a?14:7===a&&(18===b||19===b)||6===a&&b>=17&&19>=b?15:11===a&&(4===b||5===b)||10===a&&(5===b||6===b)||9===a&&6===b?16:3===a&&(14===b||16===b)||4===a&&b>=14&&16>=b?17:6===a&&9===b||10===b&&a>=6&&8>=a||7===a&&11===b?18:6===a&&14===b||7===a&&(13===b||14===b||15===b)||8===a&&14===b?19:7===a&&5===b||6===a&&b>=4&&7>=b?20:-1:3:2:1}}(Game||(Game={})),angular.module("myApp",["ngTouch","ui.bootstrap","gameServices"]).run(function(){$rootScope.game=game,translate.setLanguage("en",{RULES_OF_BLOKUS:"",CLOSE:"Close",RULES_SLIDE1:"",RULES_SLIDE2:"",RULES_SLIDE3:"",RULES_SLIDE4:"",RULES_SLIDE5:"",RULES_SLIDE6:""}),game.init()});
//# sourceMappingURL=everything.min.js.map