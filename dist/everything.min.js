"use strict";angular.module("myApp",[]).factory("gameLogic",function(){function a(){return[["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""],["","","","","","","","","","","","","","","","","","","",""]]}function b(){return[[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]]}function c(){return[!0,!0,!0,!0]}function d(a,b){for(var c=[],d=a.freeShapes,g=a.board,h=0;h<g.length;h++)for(var i=0;i<g[0].length;i++)if(""===g[h][i]&&!r(g,h,i,b)&&(v||p(g,h,i,b)))for(var j=0;j<d[b].length;j++)if(d[b][j])for(var k=0;8>k;k++)if(e(j,k)){var l=x(h,i,j,k);w(g,l,b)&&c.push(f(a,l,j,b))}return c}function e(a,b){return 0===a||8===a||19===a?0===b:1===a||2===a||3===a||4===a?0===b||1===b:5===a||10===a||11===a||14===a||16===a||17===a?0===b||1===b||2===b||3===b:7===a||13===a?0===b||1===b||4===b||5===b:6===a||9===a||12===a||15===a||18===a||20===a?!0:!1}function f(d,e,f,g){(void 0===d||void 0===d.board)&&(d={board:a(),playerStatus:c(),freeShapes:b(),delta:{}});var i=d.board,k=d.playerStatus,n=d.freeShapes;if(!w(i,e,g))throw new Error("illegal placement of a shape!");if(m(k))throw new Error("Can only make a move if the game is not over!");for(var o=angular.copy(i),p=g.toString(),q=0;q<e.length;q++){var r=e[q][0],s=e[q][1];o[r][s]=p}var t=h(g,n,f),u=j(o,t,k),v=l(g,u,t);return[v,{set:{key:"board",value:o}},{set:{key:"playerStatus",value:u}},{set:{key:"freeShapes",value:t}},{set:{key:"delta",value:{shape:f,placement:e}}}]}function g(a){var b=a.move,c=a.stateBeforeMove,d=a.turnIndexBeforeMove;try{var e=b[4].set.value.shape,g=b[4].set.value.placement,h=f(c,g,e,d);if(!angular.equals(b,h))return!1}catch(i){return!1}return!0}function h(a,b,c){var d=angular.copy(b);if(0==d[a][c])throw new Error("the shape is already used by the player!");return d[a][c]=!1,d}function i(a,b,c){if(v(a,c))return!0;for(var d=0;d<a.length;d++)for(var f=0;f<a[0].length;f++)if(""===a[d][f]&&!r(a,d,f,c)&&p(a,d,f,c))for(var g=0;21>g;g++)if(b[c][g])for(var h=0;8>h;h++)if(e(g,h)){var i=x(d,f,g,h);if(w(a,i,c))return!0}return!1}function j(a,b,c){for(var d=angular.copy(c),e=0;4>e;e++)k(e,b)&&(d[e]=!1);for(var e=0;4>e;e++)d[e]&&(d[e]=i(a,b,e));return d}function k(a,b){for(var c=0;21>c;c++)if(b[a][c])return!1;return!0}function l(a,b,c){var d={};if(m(b))d={endMatch:{endMatchScores:n(c)}};else{for(var e=(a+1)%4;b[e]===!1;)e=(e+1)%4;d={setTurn:{turnIndex:e}}}return d}function m(a){for(var b=0;b<a.length;b++)if(a[b])return!1;return!0}function n(a){for(var b=90,c=[0,0,0,0],d=0;4>d;d++)for(var e=0;e<a[d].length;e++)a[d][e]&&(0===e&&(c[d]+=1),1===e&&(c[d]+=2),(2===e||5===e)&&(c[d]+=3),(3===e||6===e||7===e||8===e||14===e)&&(c[d]+=4),(4===e||9===e||10===e||11===e||12===e||13===e||15===e||16===e||18===e||19===e||20===e)&&(c[d]+=5));for(var d=0;4>d;d++)c[d]=b-c[d];return c}function o(a,b,c){return b>=0&&b<a.length&&c>=0&&c<a[0].length}function p(a,b,c,d){var e=d.toString();return o(a,b+1,c+1)&&a[b+1][c+1]===e||o(a,b+1,c-1)&&a[b+1][c-1]===e||o(a,b-1,c+1)&&a[b-1][c+1]===e||o(a,b-1,c-1)&&a[b-1][c-1]===e?!0:!1}function q(a,b,c){for(var d=0;d<b.length;d++){var e=(c.toString(),b[d][0]),f=b[d][1];if(p(a,e,f,c))return!0}return!1}function r(a,b,c,d){var e=d.toString();return o(a,b+1,c)&&a[b+1][c]===e||o(a,b-1,c)&&a[b-1][c]===e||o(a,b,c+1)&&a[b][c+1]===e||o(a,b,c-1)&&a[b][c-1]===e?!0:!1}function s(a,b,c){for(var d=0;d<b.length;d++){var e=(c.toString(),b[d][0]),f=b[d][1];if(r(a,e,f,c))return!0}return!1}function t(a,b){var c;for(c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if(""!==a[d][e])return!0}return!1}function u(a,b){for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if(!o(a,d,e))return!1}return!0}function v(a,b){return 0===b?"0"!==a[0][0]:1===b?"1"!==a[0][19]:2===b?"2"!==a[19][0]:3===b?"3"!==a[19][19]:!1}function w(a,b,c){var d;switch(c){case 0:d=[0,0];break;case 1:d=[0,a[0].length-1];break;case 2:d=[a.length-1,0];break;case 3:d=[a.length-1,a[0].length-1]}if(v(a,c)){for(var e=0;e<b.length;e++)if(angular.equals(b[e],d))return u(a,b)&&!t(a,b);return!1}return u(a,b)&&!t(a,b)&&!s(a,b,c)&&q(a,b,c)}function x(a,b,c,d){var e=[];switch(c){case 0:e.push([a,b]);break;case 1:0===d&&e.push([a,b],[a-1,b]),1===d&&e.push([a,b],[a,b+1]);break;case 2:0===d&&e.push([a,b],[a-1,b],[a-2,b]),1===d&&e.push([a,b],[a,b+1],[a,b+2]);break;case 3:0===d&&e.push([a,b],[a-1,b],[a-2,b],[a-3,b]),1===d&&e.push([a,b],[a,b+1],[a,b+2],[a,b+3]);break;case 4:0===d&&e.push([a,b],[a-1,b],[a-2,b],[a-3,b],[a-4,b]),1===d&&e.push([a,b],[a,b+1],[a,b+2],[a,b+3],[a,b+4]);break;case 5:0===d&&e.push([a,b],[a-1,b],[a,b+1]),1===d&&e.push([a,b],[a,b+1],[a+1,b]),2===d&&e.push([a,b],[a+1,b],[a,b-1]),3===d&&e.push([a,b],[a,b-1],[a-1,b]);break;case 6:0===d&&e.push([a,b],[a-1,b],[a-2,b],[a,b+1]),1===d&&e.push([a,b],[a,b+1],[a,b+2],[a+1,b]),2===d&&e.push([a,b],[a+1,b],[a+2,b],[a,b-1]),3===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b]),4===d&&e.push([a,b],[a-1,b],[a-2,b],[a,b-1]),5===d&&e.push([a,b],[a,b+1],[a,b+2],[a-1,b]),6===d&&e.push([a,b],[a+1,b],[a+2,b],[a,b+1]),7===d&&e.push([a,b],[a,b-1],[a,b-2],[a+1,b]);break;case 7:0===d&&e.push([a,b],[a-1,b],[a-1,b+1],[a,b-1]),1===d&&e.push([a,b],[a,b+1],[a+1,b+1],[a-1,b]),4===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a,b+1]),5===d&&e.push([a,b],[a,b+1],[a-1,b+1],[a+1,b]);break;case 8:0===d&&e.push([a,b],[a-1,b],[a-1,b+1],[a,b+1]);break;case 9:0===d&&e.push([a,b],[a-1,b],[a,b+1],[a,b+2],[a,b+3]),1===d&&e.push([a,b],[a,b+1],[a+1,b],[a+2,b],[a+3,b]),2===d&&e.push([a,b],[a+1,b],[a,b-1],[a,b-2],[a,b-3]),3===d&&e.push([a,b],[a,b-1],[a-1,b],[a-2,b],[a-3,b]),4===d&&e.push([a,b],[a-1,b],[a,b-1],[a,b-2],[a,b-3]),5===d&&e.push([a,b],[a,b+1],[a-1,b],[a-2,b],[a-3,b]),6===d&&e.push([a,b],[a+1,b],[a,b+1],[a,b+2],[a,b+3]),7===d&&e.push([a,b],[a,b-1],[a+1,b],[a+2,b],[a+3,b]);break;case 10:0===d&&e.push([a,b],[a-1,b],[a-2,b],[a,b+1],[a,b-1]),1===d&&e.push([a,b],[a,b+1],[a,b+2],[a-1,b],[a+1,b]),2===d&&e.push([a,b],[a+1,b],[a+2,b],[a,b-1],[a,b+1]),3===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b],[a+1,b]);break;case 11:0===d&&e.push([a,b],[a-1,b],[a-2,b],[a,b+1],[a,b+2]),1===d&&e.push([a,b],[a,b+1],[a,b+2],[a+1,b],[a+2,b]),2===d&&e.push([a,b],[a+1,b],[a+2,b],[a,b-1],[a,b-2]),3===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b],[a-2,b]);break;case 12:0===d&&e.push([a,b],[a,b+1],[a,b+2],[a+1,b],[a+1,b-1]),1===d&&e.push([a,b],[a+1,b],[a+2,b],[a,b-1],[a-1,b-1]),2===d&&e.push([a,b],[a,b-1],[a,b-2],[a-1,b],[a-1,b+1]),3===d&&e.push([a,b],[a-1,b],[a-2,b],[a,b+1],[a+1,b+1]),4===d&&e.push([a,b],[a,b-1],[a,b-2],[a+1,b],[a+1,b+1]),5===d&&e.push([a,b],[a-1,b],[a-2,b],[a,b-1],[a+1,b-1]),6===d&&e.push([a,b],[a,b+1],[a,b+2],[a-1,b],[a-1,b-1]),7===d&&e.push([a,b],[a+1,b],[a+2,b],[a,b+1],[a-1,b+1]);break;case 13:0===d&&e.push([a,b],[a,b+1],[a-1,b+1],[a,b-1],[a+1,b-1]),1===d&&e.push([a,b],[a+1,b],[a+1,b+1],[a-1,b],[a-1,b-1]),4===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a,b+1],[a+1,b+1]),5===d&&e.push([a,b],[a-1,b],[a-1,b+1],[a+1,b],[a+1,b-1]);break;case 14:0===d&&e.push([a,b],[a-1,b],[a,b+1],[a,b-1]),1===d&&e.push([a,b],[a,b+1],[a+1,b],[a-1,b]),2===d&&e.push([a,b],[a+1,b],[a,b-1],[a,b+1]),3===d&&e.push([a,b],[a,b-1],[a-1,b],[a+1,b]);break;case 15:0===d&&e.push([a,b],[a,b+1],[a+1,b],[a+1,b+1],[a+2,b]),1===d&&e.push([a,b],[a+1,b],[a+1,b-1],[a,b-1],[a,b-2]),2===d&&e.push([a,b],[a,b-1],[a-1,b],[a-1,b-1],[a-2,b]),3===d&&e.push([a,b],[a-1,b],[a-1,b+1],[a,b+1],[a,b+2]),4===d&&e.push([a,b],[a,b-1],[a+1,b-1],[a+1,b],[a+2,b]),5===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a,b-1],[a,b-2]),6===d&&e.push([a,b],[a,b+1],[a-1,b+1],[a-1,b],[a-2,b]),7===d&&e.push([a,b],[a,b+1],[a,b+2],[a+1,b],[a+1,b+1]);break;case 16:0===d&&e.push([a,b],[a-1,b],[a-1,b+1],[a,b-1],[a+1,b-1]),1===d&&e.push([a,b],[a,b+1],[a+1,b+1],[a-1,b],[a-1,b-1]),2===d&&e.push([a,b],[a+1,b],[a+1,b-1],[a,b+1],[a-1,b+1]),3===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a+1,b],[a+1,b+1]);break;case 17:0===d&&e.push([a,b],[a-1,b],[a-1,b+1],[a+1,b],[a+1,b+1]),1===d&&e.push([a,b],[a,b+1],[a+1,b+1],[a,b-1],[a+1,b-1]),2===d&&e.push([a,b],[a+1,b],[a+1,b-1],[a-1,b],[a-1,b-1]),3===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a,b+1],[a-1,b+1]);break;case 18:0===d&&e.push([a,b],[a-1,b],[a-1,b+1],[a+1,b],[a,b-1]),1===d&&e.push([a,b],[a,b+1],[a+1,b+1],[a,b-1],[a-1,b]),2===d&&e.push([a,b],[a+1,b],[a+1,b-1],[a-1,b],[a,b+1]),3===d&&e.push([a,b],[a,b-1],[a-1,b-1],[a,b+1],[a+1,b]),4===d&&e.push([a,b],[a-1,b],[a-1,b-1],[a+1,b],[a,b+1]),5===d&&e.push([a,b],[a,b+1],[a-1,b+1],[a,b-1],[a+1,b]),6===d&&e.push([a,b],[a+1,b],[a+1,b+1],[a-1,b],[a,b-1]),7===d&&e.push([a,b],[a,b-1],[a+1,b-1],[a,b+1],[a-1,b]);break;case 19:0===d&&e.push([a,b],[a-1,b],[a,b+1],[a+1,b],[a,b-1]);break;case 20:0===d&&e.push([a,b],[a-1,b],[a,b+1],[a,b+2],[a,b-1]),1===d&&e.push([a,b],[a,b+1],[a+1,b],[a+2,b],[a-1,b]),2===d&&e.push([a,b],[a+1,b],[a,b-1],[a,b-2],[a,b+1]),3===d&&e.push([a,b],[a,b-1],[a-1,b],[a-2,b],[a+1,b]),4===d&&e.push([a,b],[a-1,b],[a,b-1],[a,b-2],[a,b+1]),5===d&&e.push([a,b],[a,b+1],[a-1,b],[a-2,b],[a+1,b]),6===d&&e.push([a,b],[a+1,b],[a,b+1],[a,b+2],[a,b-1]),7===d&&e.push([a,b],[a,b-1],[a+1,b],[a+2,b],[a-1,b])}return e}return{getScore:n,endOfMatch:m,getInitialBoard:a,getInitialFreeShapes:b,getInitialPlayerStatus:c,createMove:f,isMoveOk:g,legalPlacement:w,getPlacement:x,getPossibleMoves:d}}),angular.module("myApp").controller("Ctrl",["$scope","$log","$timeout","gameService","stateService","gameLogic","resizeGameAreaService",function(a,b,c,d,e,f,g){function h(b){a.state=b.stateAfterMove,a.state.board=b.stateAfterMove.board,a.state.delta=b.stateAfterMove.delta,a.state.freeShapes=b.stateAfterMove.freeShapes,a.state.playerStatus=b.stateAfterMove.playerStatus,a.shape=-1,a.rotate=0,void 0===a.state.board&&(a.state.board=f.getInitialBoard(),a.state.freeShapes=f.getInitialFreeShapes(),a.state.playerStatus=f.getInitialPlayerStatus()),a.isYourTurn=b.turnIndexAfterMove>=0&&b.yourPlayerIndex===b.turnIndexAfterMove,a.turnIndex=b.turnIndexAfterMove,a.isYourTurn&&""===b.playersInfo[b.yourPlayerIndex].playerId&&(a.isYourTurn=!1,c(i,500))}function i(){var b=f.getPossibleMoves(a.state,a.turnIndex);d.makeMove(b[Math.floor(Math.random()*b.length)])}function j(b,c){return 0===a.shape&&2===b&&2===c?!0:1===a.shape&&(2===b&&2===c||7===b&&2===c)?!0:2===a.shape&&(2===b&&2===c||7===b&&1===c)?!0:3===a.shape&&(3===b&&2===c||7===b&&1===c)?!0:4===a.shape&&(4===b&&2===c||7===b&&0===c)?!0:5===a.shape&&(2===b&&2===c||7===b&&2===c||12===b&&2===c||17===b&&2===c)?!0:6===a.shape&&(2===b&&2===c||6==b&&2===c||12===b&&3===c||12===b&&3===c||17===b&&2===c||22===b&&2===c||27===b&&2===c||32===b&&2===c||36===b&&3===c)?!0:7===a.shape&&(2===b&&2===c||7===b&&1===c||22===b&&2===c||27===b&&2===c)?!0:8===a.shape&&2===b&&2==c?!0:9===a.shape&&(2===b&&1===c||6===b&&2===c||12===b&&3===c||18===b&&2===c||22===b&&3===c||28===b&&2===c||31===b&&1===c||36===b&&2===c)?!0:10===a.shape&&(3===b&&2===c||7===b&&1===c||11===b&&2===c||17===b&&3===c)?!0:11===a.shape&&(3===b&&1===c||6===b&&1===c||11===b&&3===c||18===b&&3===c)?!0:12===a.shape&&(1===b&&2===c||7===b&&3===c||13===b&&2===c||17===b&&2===c||21===b&&2===c||27===b&&3===c||32===b&&2===c||37===b&&2===c)?!0:13===a.shape&&(2===b&&2===c||7===b&&2==c||22===b&&2==c||27===b&&2===c)?!0:14===a.shape&&(2===b&&2==c||7===b&&2===c||12===b&&2===c||17===b&&2==c)?!0:15===a.shape&&(1===b&&1===c||6===b&&3==c||13===b&&3===c||17===b&&1===c||21===b&&3===c||27===b&&3===c||33==b&&1===c||36===b&&1===c)?!0:16===a.shape&&(2===b&&2==c||7===b&&2===c||12===b&&2===c||17===b&&2===c)?!0:17===a.shape&&(2===b&&1===c||6===b&&2===c||12===b&&3===c||17===b&&2===c)?!0:18!==a.shape||2!==c||2!==b&&7!==b&&12!==b&&17!==b&&22!==b&&27!==b&&32!==b&&37!==b?19===a.shape&&2===b&&2===c?!0:20!==a.shape||2!==c||2!==b&&7!==b&&12!==b&&17!==b&&22!==b&&28!==b&&32!==b&&37!==b?!1:!0:!0}function k(a,b){return 0===a&&2===b?0:2!==b||2!==a&&3!==a?2!==b||5!==a&&6!==a&&7!==a?2!==b||9!==a&&10!==a&&11!==a&&12!==a?2!==b||14!==a&&15!==a&&16!==a&&17!==a&&18!==a?2===b&&(20===a||21===a)||21==a&&3===b?5:2===b&&(23===a||24===a||25===a)||25===a&&3===b?6:27===a&&(2===b||3===b)||28===a&&(1===b||2===b)?7:30===a&&(1===b||2===b)||31===a&&(1===b||2===b)?8:33===a&&1===b||34===a&&(1===b||2===b||3===b||4===b)?9:2===b&&(36===a||37===a||38===a)||38===a&&(1===b||3===b)?10:6===b&&(0===a||1===a||2===a)||2===a&&(7===b||8===b)?11:4===a&&(7===b||8===b||9===b)||5===a&&(6===b||7===b)?12:7===a&&8===b||8===a&&(6===b||7===b||8===b)||9===a&&6===b?13:11===a&&7===b||12===a&&(6===b||7===b||8===b)?14:6===b&&(14===a||15===a||16===a)||7===b&&(14===a||15===a)?15:18===a&&(7===b||8===b)||19===a&&(6===b||7===b)||20===a&&6===b?16:6===b&&(22===a||23===a||24===a)||7===b&&(22===a||24===a)?17:27===a&&(7===b||8===b)||28===a&&(6===b||7===b)||29===a&&7===b?18:32===a&&7===b||33===a&&(6===b||7===b||8===b)||34===a&&7===b?19:37===a&&7===b||38===a&&(6===b||7===b||8===b||9===b)?20:-1:4:3:2:1}g.setWidthToHeight(1.6),window.e2e_test_stateService=e,d.setGame({gameDeveloperEmail:"yw1840@nyu.edu",minNumberOfPlayers:4,maxNumberOfPlayers:4,isMoveOk:f.isMoveOk,updateUI:h}),a.getRotateAreaSquareColor=function(b,c){return-1===a.getRotate(b,c)?{backgroundColor:"white"}:0===a.turnIndex?j(b,c)?{backgroundColor:"grey"}:{backgroundColor:"red"}:1===a.turnIndex?j(b,c)?{backgroundColor:"grey"}:{backgroundColor:"green"}:2===a.turnIndex?j(b,c)?{backgroundColor:"grey"}:{backgroundColor:"blue"}:3===a.turnIndex?j(b,c)?{backgroundColor:"grey"}:{backgroundColor:"yellow"}:void 0},a.getRotate=function(b,c){var d=-1;return 0===a.shape&&2===b&&2===c&&(d=0),1===a.shape&&((1===b&&2===c||2===b&&2===c)&&(d=0),(7===b&&2===c||7===b&&3===c)&&(d=1)),2===a.shape&&((0===b&&2===c||1===b&&2===c||2===b&&2===c)&&(d=0),(7===b&&1===c||7===b&&2===c||7===b&&3===c)&&(d=1)),3===a.shape&&((0===b&&2===c||1===b&&2===c||2===b&&2===c||3===b&&2===c)&&(d=0),(7===b&&1===c||7===b&&2===c||7===b&&3===c||7===b&&4===c)&&(d=1)),4===a.shape&&((0===b&&2===c||1===b&&2===c||2===b&&2===c||3===b&&2===c||4===b&&2===c)&&(d=0),(7===b&&0===c||7===b&&1===c||7===b&&2===c||7===b&&3===c||7===b&&4===c)&&(d=1)),5===a.shape&&((1===b&&2===c||2===b&&2===c||2===b&&3===c)&&(d=0),(7===b&&2===c||7===b&&3===c||8===b&&2===c)&&(d=1),(12===b&&1===c||12===b&&2===c||13===b&&2===c)&&(d=2),(16===b&&2===c||17===b&&1===c||17===b&&2===c)&&(d=3)),6===a.shape&&((0===b&&2===c||1===b&&2===c||2===b&&2===c||2===b&&3===c)&&(d=0),(6===b&&2===c||6===b&&3===c||6===b&&4===c||7===b&&2===c)&&(d=1),(12===b&&2===c||12===b&&3===c||13===b&&3===c||14===b&&3===c)&&(d=2),(16===b&&2===c||17===b&&0===c||17===b&&1===c||17===b&&2===c)&&(d=3),(22===b&&1===c||20===b&&2===c||21===b&&2===c||22===b&&2===c)&&(d=4),(26===b&&2===c||27===b&&2===c||27===b&&3===c||27===b&&4===c)&&(d=5),(32===b&&3===c||32===b&&2===c||33===b&&2===c||34===b&&2===c)&&(d=6),(36===b&&1===c||36===b&&2===c||36===b&&3===c||37===b&&3===c)&&(d=7)),7===a.shape&&((1===b&&2===c||1===b&&3===c||2===b&&1===c||2===b&&2===c)&&(d=0),(6===b&&1===c||7===b&&1===c||7===b&&2===c||8===b&&2===c)&&(d=1),(21===b&&1===c||21===b&&2===c||22===b&&2===c||22===b&&3===c)&&(d=4),(27===b&&2===c||28===b&&2===c||26===b&&3===c||27===b&&3===c)&&(d=5)),8===a.shape&&(1===b&&2===c||1===b&&3===c||2===b&&2===c||2===b&&3===c)&&(d=0),9===a.shape&&((1===b&&1===c||2===b&&1===c||2===b&&2===c||2===b&&3===c||2===b&&4===c)&&(d=0),(6===b&&3===c||6===b&&2===c||7===b&&2===c||8===b&&2===c||9===b&&2===c)&&(d=1),(12===b&&0===c||12===b&&1===c||12===b&&2===c||12===b&&3===c||13===b&&3===c)&&(d=2),(15===b&&2===c||16===b&&2===c||17===b&&2===c||18===b&&2===c||18===b&&1===c)&&(d=3),(21===b&&3===c||22===b&&0===c||22===b&&1===c||22===b&&2===c||22===b&&3===c)&&(d=4),(25===b&&2===c||26===b&&2===c||27===b&&2===c||28===b&&2===c||28===b&&3===c)&&(d=5),(31===b&&1===c||31===b&&2===c||31===b&&3===c||31===b&&4===c||32===b&&1===c)&&(d=6),(36===b&&1===c||36===b&&2===c||37===b&&2===c||38===b&&2===c||39===b&&2===c)&&(d=7)),10===a.shape&&((1===b&&2===c||2===b&&2===c||3===b&&1===c||3===b&&2===c||3===b&&3===c)&&(d=0),(6===b&&1===c||7===b&&1===c||8===b&&1===c||7===b&&2===c||7===b&&3===c)&&(d=1),(11===b&&1===c||11===b&&2===c||11===b&&3===c||12===b&&2===c||13===b&&2===c)&&(d=2),(17===b&&1===c||17===b&&2===c||16===b&&3===c||17===b&&3===c||18===b&&3===c)&&(d=3)),11===a.shape&&((1===b&&1===c||2===b&&1===c||3===b&&1===c||3===b&&2===c||3===b&&3===c)&&(d=0),(6===b&&1===c||6===b&&2===c||6===b&&3===c||7===b&&1===c||8===b&&1===c)&&(d=1),(11===b&&1===c||11===b&&2===c||11===b&&3===c||12===b&&3===c||13===b&&3===c)&&(d=2),(16===b&&3===c||17===b&&3===c||18===b&&1===c||18===b&&2===c||18===b&&3===c)&&(d=3)),12===a.shape&&((1===b&&2===c||1===b&&3===c||1===b&&4===c||2===b&&1===c||2===b&&2==c)&&(d=0),(6===b&&2===c||7===b&&2===c||7===b&&3===c||8===b&&3===c||9===b&&3===c)&&(d=1),(12===b&&2===c||12===b&&3===c||13===b&&0===c||13===b&&1===c||13===b&&2===c)&&(d=2),(15===b&&2===c||16===b&&2===c||17===b&&2===c||17===b&&3===c||18===b&&3===c)&&(d=3),(21===b&&0===c||21===b&&1===c||21===b&&2===c||22===b&&2===c||22===b&&3===c)&&(d=4),(25===b&&3===c||26===b&&3===c||27===b&&3===c||27===b&&2===c||28===b&&2===c)&&(d=5),(31===b&&1===c||31===b&&2===c||32===b&&2===c||32===b&&3===c||32===b&&4===c)&&(d=6),(36===b&&3===c||37===b&&3===c||37===b&&2===c||38===b&&2===c||39===b&&2==c)&&(d=7)),13===a.shape&&((1===b&&3===c||2===b&&1===c||2===b&&2===c||2===b&&3===c||3===b&&1===c)&&(d=0),(6===b&&1===c||6===b&&2===c||7===b&&2===c||8===b&&2===c||8===b&&3===c)&&(d=1),(21===b&&1===c||22===b&&1===c||22===b&&2===c||22===b&&3===c||23===b&&3===c)&&(d=4),(26===b&&2===c||26===b&&3===c||27===b&&2===c||28===b&&1===c||28===b&&2===c)&&(d=5)),14===a.shape&&((1===b&&2===c||2===b&&1===c||2===b&&2===c||2===b&&3===c)&&(d=0),(6===b&&2===c||7===b&&2===c||8===b&&2===c||7===b&&3===c)&&(d=1),(12===b&&1===c||12===b&&2===c||12===b&&3===c||13===b&&2===c)&&(d=2),(16===b&&2===c||17===b&&2===c||18===b&&2===c||17===b&&1===c)&&(d=3)),15===a.shape&&((1===b&&1===c||1===b&&2===c||2===b&&1===c||2===b&&2===c||3===b&&1===c)&&(d=0),(6===b&&1===c||6===b&&2===c||6===b&&3===c||7===b&&2===c||7===b&&3===c)&&(d=1),(12===b&&2===c||13===b&&2===c||11===b&&3===c||12===b&&3===c||13===b&&3===c)&&(d=2),(16===b&&1===c||16===b&&2===c||17===b&&1===c||17===b&&2===c||17===b&&3===c)&&(d=3),(21===b&&2===c||22===b&&2===c||21===b&&3===c||22===b&&3===c||23===b&&3===c)&&(d=4),(26===b&&2===c||26===b&&3===c||27===b&&1===c||27===b&&2===c||27===b&&3===c)&&(d=5),(31===b&&1===c||32===b&&1===c||33===b&&1===c||32===b&&2===c||33===b&&2===c)&&(d=6),(36===b&&1===c||36===b&&2===c||36===b&&3===c||37===b&&1===c||37===b&&2===c)&&(d=7)),16===a.shape&&((1===b&&2===c||1===b&&3===c||2===b&&1===c||2===b&&2===c||3===b&&1===c)&&(d=0),(6===b&&1===c||6===b&&2===c||7===b&&2===c||7===b&&3===c||8===b&&3===c)&&(d=1),(11===b&&3===c||12===b&&3===c||12===b&&2===c||13===b&&2===c||13===b&&1===c)&&(d=2),(16===b&&1==c||17===b&&1===c||17===b&&2==c||18===b&&2===c||18===b&&3===c)&&(d=3)),17===a.shape&&((1===b&&1===c||1===b&&2===c||2===b&&1===c||3===b&&1===c||3===b&&2===c)&&(d=0),(6===b&&1===c||6===b&&2===c||6===b&&3===c||7===b&&1===c||7===b&&3===c)&&(d=1),(11===b&&3===c||12===b&&3===c||13===b&&3===c||11===b&&2===c||13===b&&2===c)&&(d=2),(17===b&&1===c||17===b&&2===c||17===b&&3===c||16===b&&1===c||16===b&&3===c)&&(d=3)),18===a.shape&&((1===b&&2===c||2===b&&2===c||3===b&&2===c||1===b&&3===c||2===b&&1===c)&&(d=0),(7===b&&1===c||7===b&&2===c||7===b&&3===c||6===b&&2===c||8===b&&3===c)&&(d=1),(11===b&&2===c||12===b&&2===c||13===b&&2===c||12===b&&3===c||13===b&&1===c)&&(d=2),(17===b&&1===c||17===b&&2===c||17===b&&3===c||16===b&&1===c||18===b&&2===c)&&(d=3),(21===b&&2===c||22===b&&2===c||23===b&&2===c||21===b&&1===c||22===b&&3===c)&&(d=4),(27===b&&1===c||27===b&&2===c||27===b&&3===c||26===b&&3===c||28===b&&2===c)&&(d=5),(31===b&&2===c||32===b&&2===c||33===b&&2==c||32===b&&1===c||33===b&&3===c)&&(d=6),(37===b&&1===c||37===b&&2===c||37===b&&3===c||36===b&&2===c||38===b&&1===c)&&(d=7)),19===a.shape&&(1===b&&2===c||2===b&&1===c||2===b&&2===c||2===b&&3===c||3===b&&2===c)&&(d=0),20===a.shape&&((1===b&&2===c||2===b&&1===c||2===b&&2===c||2===b&&3===c||2===b&&4===c)&&(d=0),(6===b&&2===c||7===b&&2===c||8===b&&2===c||9===b&&2===c||7===b&&3===c)&&(d=1),(12===b&&0===c||12===b&&1===c||12===b&&2===c||12===b&&3===c||13===b&&2===c)&&(d=2),(15===b&&2===c||16===b&&2===c||17===b&&2===c||18===b&&2===c||17===b&&1===c)&&(d=3),(22===b&&0===c||22===b&&1===c||22===b&&2===c||22===b&&3===c||21===b&&2===c)&&(d=4),(26===b&&2===c||27===b&&2===c||28===b&&2===c||29===b&&2===c||28===b&&3===c)&&(d=5),(32===b&&1===c||32===b&&2===c||32===b&&3===c||32===b&&4===c||33===b&&2===c)&&(d=6),(36===b&&2===c||37===b&&2===c||38===b&&2===c||39===b&&2===c||37===b&&1===c)&&(d=7)),d},a.rotateAreaCellClicked=function(b,c){var d=a.getRotate(b,c);a.rotate=d>=0?d:0},a.getCellColorStyle=function(b,c){var d=a.getCellColor(b,c);return{backgroundColor:d}},a.getCellColor=function(b,c){var d=a.state.board[b][c],e="";return e="0"===d?"red":"1"===d?"green":"2"===d?"blue":"3"===d?"yellow":"white"},a.shapeClicked=function(b){a.shape=b},a.boardAreaCellClicked=function(c,e){if(b.info(["Clicked on cell:",c,e]),"?throwException"===window.location.search)throw new Error("Throwing the error because URL has '?throwException'");if(a.isYourTurn&&-1!==a.shape)try{var g=f.getPlacement(c,e,a.shape,a.rotate),h=f.createMove(a.state,g,a.shape,a.turnIndex);a.isYourTurn=!1,a.shape=-1,d.makeMove(h)}catch(i){return void b.info(["This is an illegal move:",c,e])}},a.shapAreaCellClicked=function(c,d){var e=k(c,d);b.info(["Clicked on shape:",e]),a.shape=e},a.getShapeCellColorStyle=function(b,c){var d=k(b,c);if(!(d>=0&&void 0!=a.state.freeShapes[a.turnIndex]&&a.state.freeShapes[a.turnIndex][d]))return{backgroundColor:"white"};switch(a.turnIndex){case 0:return{backgroundColor:"red"};case 1:return{backgroundColor:"green"};case 2:return{backgroundColor:"blue"};case 3:return{backgroundColor:"yellow"}}}}]);
//# sourceMappingURL=everything.min.js.map